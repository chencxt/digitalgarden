---
{"dg-publish":true,"permalink":"/05publishedweb/W002-学习进度/测试文档/","noteIcon":"","created":"2025-02-05T11:27:05.660+08:00","updated":"2025-02-05T11:35:35.692+08:00"}
---

这是一个测试文档，用于填充一些简单的内容。
本次测试：文件夹嵌套。


参考资料：https://doc.embedfire.com/lubancat/build_and_deploy/zh/latest/building_image/boot_image_analyse/boot_image_analyse_down.html

学习并不是照着书死读，而是能者居之。

**1初始阶段**：上电 —> 设备(裸机)初始化 —> 启动设备 —> 镜像头 —> Uboot启动入口
**2uboot启动第一阶段**：初始化硬件-->复制uboot第二阶段代码至RAM-->设置堆栈-->清除BSS段-->跳转到第二阶段入口处
**3uboot启动第二阶段**：开发板相关初始化-->NAND/EMMC初始化-->环境变量初始化-->串口控制台初始化-->中断初始化-->网络初始化-->进入run_main_loop函数
**4uboot加载内核阶段**：硬件初始化与内存分配-->u-boot自身重定位-->内核加载到DDR-->传递环境变量与设备树-->搭建内核运行环境-->控制权交接，启动Linux内核-->Linux内核开始运行


<iframe frameborder="0" style="width:100%;height:493px;" src="https://viewer.diagrams.net/?tags=%7B%7D&highlight=0000ff&edit=_blank&layers=1&nav=1&title=%E6%9C%AA%E5%91%BD%E5%90%8D%E7%BB%98%E5%9B%BE.drawio#R7Z1bc6M2GIZ%2FjWbai%2B0YBEK6BOP0MM3uzrqZbq8yrE1sZohJCd44%2FfXVCRuEslDqIDY4NwGZg5H0vBLv9ykBcH5%2F%2BDmPHrbX2TpOgT1bHwAMgW1b1mxGf7GSZ1GCXU8UbPJkLQ86FSyTf2JZKM%2Fb7JN1%2FFg7sMiytEge6oWrbLeLV0WtLMrz7Kl%2B2F2W1u%2F6EG3iRsFyFaXN0j%2BTdbGVT2F7p%2FJf4mSzLe9sISI%2BuY%2FKg%2BWTPG6jdfZUKYILAOd5lhVi6%2F4wj1NWeWW9iPOuXvj0%2BMXyeFd0OeH2eomW%2FrV%2Fc5ui37J8%2B876%2Bus7W1zla5Tu5QODhQMCDLAPFh4gdNuVX794Luskz%2Fa7dcwuOwMweNomRbx8iFbs0yfaC2jZtrhP6Z5FN%2BUN4ryIDy9%2Bc%2BtYH7Qjxdl9XOTP9BB5gl12ItmHLE%2FuP51aBMmibaUxHFkWyT6wOV75VE10Q9bUf6g12Kw1G6X0rsFdRh%2BJ9cY0y%2Fkn6O89a2BaDfDuDtKfahHa8N8LF2AMSMg2fA9gWkIAwSBAYIGAv%2BBtIK5Pv664hTxVbRrayR7YZnZ395F2zbmggn2XtnZ6FOjNfrKR8nOeRnSVNnSabUg0bXgUkLM3oqNpRKU2493aZxpC91Zp9PiYrOp1VgchPiTFZ%2FkJ2%2F6LV6cr98JD5bDwudzZ0Uf5XN2pnMV2T6fxvfI88VXjdUO8lOagj5Pt81Xc3pmLKN%2FERZtUNJu30n6upv3KsjxOoyL5Wv%2B6ujaVd%2FiYJZykUgJgvftAtVuIx5RnVVVQvRCuX%2Bj4BcsLiXpoXIh3seNj9%2B91rkZwMWd8wfF3APZ%2B4EWQyTDln8xB4P%2BoEwlaMgcEmddnMjJ9RtNAuxXZcuhukwCjaEOFSIv0RNu1zaJNNGi7gD6Nf8VZ9YGPm7Abpxd6I6O3nPpPHl%2FSEV%2F3gu8Z8LUsDb90Hu6yEZjxCwG%2BktgGjnFsHXVCbRxbzbvkW8S2FUfSEW%2FrhQYehltkn4lbDxnmtvk2fhN8%2BPCHbvClG5Rfl29csSm2aYpdODaKJ%2FJa3E5n2TnacDeMseqN9cUYm8ZY92bsAd8C%2Fpx7kgHzw6QN9iX%2Flnk2mvdipW2OpoUxuHUvxv2Ny%2F0XZl43ZVbTSB5rRdmQGNAp49t3OG2NlA%2FrcFreNLS8XaJRV9E3%2BiqlmpwO7Knlqsl5fEcbSsuxRsuF3xFKwQ7QTcDVo6oMPhPupjII9aezNXbwDGCLuSjYAwH85F%2BbV3nSrvI67l9P5TVG1DSxd7tij01irzoo0O6JveqgDI19eXt9cIPyGrJtJgQUYsH3jGmBaYKd8qXnW%2FM0NCDBtsaKmibBuCPBlYyKC8H%2Fo%2BPZGoIRn7K7fGAmbBBvzO%2BD5bIyjzdtqah1aPqty9ali0yR5rJh2mm2TdLsWWeiGbuGadZ4eXQ8DtjMmW%2BEfOIt5uOzblPxhoMq5%2FXmAyJIbTYN996g3GscrWlyb3fl3jHJPVJf5PpyT0xzr7H5KKbBnBtvHFxi8dSiEARXPM8z4MlGHO4Afk%2Be6tEjMTa660y2wT3VF%2BT6rXmqTkdv5fU8VVtjbU1T1L2uoo5Mirrqqbqop6irnqprDSzqTVfvvf%2Be%2FrpaXF%2FPv7PAGGkX8UEt0%2FL%2BF6q7RkpEdxyL4eKoweq%2BhsvQVENd0hmFdSEHf99meWdyzobZCI89mYY2VrhVN1U7QxvSTYUaU2uacHfNTINGU1reDtwa408kQAR2xUBBHHfvGBiVHwWzMVOu1q3x9zA4kcS19vVcXTPcRPcci8vam3LVZR2ccl3iGqfcD7nJgvjGeFFWjVMdyoMap3Ai67faUe66NhMazVtSjdPeKKvG6eAoa7w8kbfA%2FFKPZSGR%2BZhR9kY3Kk%2FELmsn1DNK6Lmm1NbMNKK6VZaYhTFIcIpONtywfL%2B7vY%2BS3W2aZQ%2F8OI41G55dNtM2DS7uMAZb1pDklhd%2B6%2BS2D8JdjW5o1BLD5xqELcsw4o7eE1NWgnxjFJaLDHiqIUY8dcllc3CC5Vks%2BZCwchwaJ18NaB4DFKZm347OLjtDQJPFMWcy7SQIK23D00ADPIHwpdsxzvGKf%2FTmkotW7%2BWtqu4Y9ULV8CXqu7xPDV8iVT9eW9Sb9tz%2BnZAGvpbD97k0UI0IdLFMEfcQYr8AxOcaH45Cv0m7fg8ay3QuaWf1eUQ74kbTztRwh6tmi%2FUNdwyOuD7tTB3ltTMBloAahp%2BM06wGL3U0Dxq8dC5rOOsDSDvNRvON3g7NujWcDksi9fnqbfpcpGOuwvF1rPG3r4QqkLIPGAxnWmN7C7ss4qyPKu3cG13EqYYze3OvhjOH5r68vbIEjKUj86GauS%2B%2BblwXJiwf132LpyM3tME05Wqk0zjl7mWhZ320af%2BTljOTlKuRzt6Uq5HOwSm3tZSriUh8iQgb1PkSAzpmy2M0EZbmmoXfk93%2BoFEK0yrQkGqNCuBBVWAiplw73LZRuM81dW8ESQenu2m2vQRjdV2YDKM0BnLTwKrBUR2wwwZH3YvHVh9H2tE26rGpwdH%2BaKvB0fOhTXdP%2FwxEHH76lypw8S8%3D"></iframe>


uboot.lds到\_\_start阶段：

编译后在uboot的解压目录的uboot.lds是uboot的连接脚本，是uboot的入口。
\_\_image_copy_start -->0x87800000 这里是镜像文件的起始地址
.vectors -> 0x87800000 用于存放中断向量表
arch/arm/cpu/armv7/start.o start.c

\_\_image_copy_end 结束镜像文件重定向。


 # 一、reset函数
 
- bicne=bic+ne
- reset函数用于将处理器设置为SVC模式，并关闭FIQ和IRQ
- 设置中断向量
- 初始化CP15